<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delivery Note</title>
    <style>
        /* Base Styles */
        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            color: #333;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: #fff;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }

        /* A4 Container */
        .dn-container {
            width: 210mm;
            min-height: 297mm;
            margin: 0 auto;
            padding: 20mm;
            box-sizing: border-box;
            position: relative;
            background: white;
            overflow: hidden; /* Prevent spill beyond page boundaries */
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            border-bottom: 2px solid #2c3e50;
            padding-bottom: 20px;
            margin-bottom: 20px;
        }

        .company-info h1 {
            margin: 0 0 5px 0;
            color: #2c3e50;
            font-size: 24px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .company-info .bilingual {
            font-size: 12px;
            color: #555;
        }

        .dn-title {
            text-align: right;
        }

        .dn-title h2 {
            margin: 0;
            font-size: 32px;
            color: #7f8c8d; /* Professional Grey */
            text-transform: uppercase;
        }

        /* Info Cards */
        .info-cards {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-card {
            flex: 1;
            border: 1px solid #eee;
            padding: 10px;
            background: #f9f9f9;
        }

        .info-card h4 {
            margin: 0 0 10px 0;
            font-size: 12px;
            text-transform: uppercase;
            color: #7f8c8d;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
        }

        /* Details Grid */
        .details-grid {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            gap: 40px;
        }

        .box {
            flex: 1;
        }

        .box h3 {
            font-size: 12px;
            text-transform: uppercase;
            color: #999;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
            margin-bottom: 10px;
        }

        /* Items Table */
        .items-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 50px;
        }

        .items-table th {
            background-color: #f8f9fa;
            color: #2c3e50;
            font-weight: bold;
            text-align: left;
            padding: 12px;
            border-bottom: 2px solid #ddd;
            font-size: 12px;
            text-transform: uppercase;
        }

        .items-table td {
            padding: 12px;
            border-bottom: 1px solid #eee;
            font-size: 14px;
        }

        .text-right { text-align: right; }
        .text-center { text-align: center; }

        /* Footer */
        .footer {
            margin-top: 60px;
            display: flex;
            justify-content: space-between;
            page-break-inside: avoid;
        }

        .signature-box {
            width: 40%;
            text-align: center;
            margin-top: 40px;
        }

        .signature-line {
            border-top: 1px solid #333;
            padding-top: 10px;
            font-size: 12px;
            color: #666;
        }

        /* Print Specifics */
        @media print {
            body { margin: 0; background: white; }
            .dn-container { width: 100%; margin: 0; padding: 0; border: none; }
        }
    </style>
</head>
<body>
    <div class="dn-container">
        <div class="header">
            <div class="company-info">
                <h1>Deepak Inventory</h1>
                <div class="bilingual">
                    <p>123 Warehouse District, New Delhi, India</p>
                    <p dir="rtl">١٢٣ منطقة المستودعات، نيودلهي، الهند</p>
                </div>
            </div>
            <div class="dn-title">
                <h2>Delivery Note</h2>
                <p><strong>#{{dnNumber}}</strong></p>
            </div>
        </div>

        <div class="info-cards">
            <div class="info-card">
                <h4>Document Info</h4>
                <p><strong>Date:</strong> {{date}}</p>
                <p><strong>Outbound:</strong> {{outboundNumber}}</p>
                <p><strong>GAPP PO:</strong> {{gappPo}}</p>
                <p><strong>Invoice:</strong> {{invoice}}</p>
            </div>
            <div class="info-card">
                <h4>References</h4>
                <p><strong>Customer PO:</strong> {{customerPo}}</p>
                <p><strong>Sales Person:</strong> {{salesName}}</p>
                <p><strong>Project:</strong> {{projectName}}</p>
            </div>
        </div>

        <div class="details-grid">
            <div class="box">
                <h3>Delivery To / تسليم إلى</h3>
                <p><strong>{{customerName}}</strong></p>
                <p>{{shippingAddress}}</p>
                <p>{{city}}, {{state}}</p>
            </div>
            <div class="box">
                <h3>Dispatched From / تم الإرسال من</h3>
                <p><strong>{{dispatchedFromName}}</strong></p>
                <p>{{dispatchedFromAddress}}</p>
                <p><strong>Contact:</strong> {{dispatchedContactName}}</p>
            </div>
        </div>

        <table class="items-table">
            <thead>
                <tr>
                    <th style="width: 50px;">#</th>
                    <th>Item Description</th>
                    <th class="text-center" style="width: 100px;">Unit</th>
                    <th class="text-right" style="width: 100px;">Qty</th>
                    <th style="width: 150px;">Remarks</th>
                </tr>
            </thead>
            <tbody>
                {{#each items}}
                <tr>
                    <td>{{this.index}}</td>
                    <td><strong>{{this.name}}</strong><br><span style="color: #777; font-size: 12px;">{{this.sku}}</span></td>
                    <td class="text-center">{{this.unit}}</td>
                    <td class="text-right">{{this.quantity}}</td>
                    <td>{{this.remarks}}</td>
                </tr>
                {{/each}}
            </tbody>
        </table>

        <!-- Summary Cards -->
        <div class="info-cards" style="justify-content: flex-end;">
            <div class="info-card" style="flex: 0 0 200px;">
                <h4>Summary</h4>
                <p><strong>Total Cases:</strong> {{totalCases}}</p>
                <p><strong>Gross Weight:</strong> {{grossWeight}} KG</p>
                <p><strong>Volume:</strong> {{volume}} CBM</p>
            </div>
        </div>

        <div class="footer">
            <div class="signature-box">
                <p><strong>Prepared By:</strong> {{createdBy}}</p>
                <div class="signature-line" style="margin-top: 20px;"></div>
            </div>
            <div class="signature-box">
                <p><strong>Delivery By:</strong></p>
                <p>Driver: {{driverName}} ({{vehicleNo}})</p>
                <div class="signature-line" style="margin-top: 20px;"></div>
            </div>
            <div class="signature-box">
                <p><strong>Received By (Sign & Stamp):</strong></p>
                <div class="signature-line" style="margin-top: 40px;"></div>
            </div>
        </div>
    </div>
</body>
</html>
